<template>
  <view class="learn-index mystic-bg">
    <!-- èƒŒæ™¯è£…é¥°å…ƒç´  -->
    <view class="mystic-circle" style="width: 400rpx; height: 400rpx; top: 5%; right: -150rpx; opacity: 0.4;"></view>
    <view class="mystic-circle" style="width: 300rpx; height: 300rpx; bottom: 10%; left: -100rpx; opacity: 0.3;"></view>
    <view class="mystic-star" style="top: 15%; left: 10%;">âœ¦</view>
    <view class="mystic-star" style="top: 25%; right: 15%;">âœ§</view>
    <view class="mystic-star" style="bottom: 20%; right: 20%;">âœ¦</view>
    
    <view class="container">
      <view class="header">
        <text class="title">å¡”ç½—å­¦ä¹ ä¸­å¿ƒ</text>
        <text class="subtitle">æ¢ç´¢å¡”ç½—çš„ç¥ç§˜ä¸–ç•Œ</text>
      </view>
      
      <view class="content">
        <view class="sections">
          <!-- åŸºç¡€çŸ¥è¯† -->
          <view class="section-card" @tap="navigateTo('/pages/learn/basics')">
            <view class="section-icon">
              <text class="icon">ğŸ”®</text>
            </view>
            <view class="section-info">
              <text class="section-title">å¡”ç½—åŸºç¡€çŸ¥è¯†</text>
              <text class="section-desc">äº†è§£å¡”ç½—ç‰Œçš„åŸºæœ¬ç»“æ„ã€åˆ†ç±»å’Œå«ä¹‰ï¼ŒæŒæ¡é˜…è¯»çš„åŸºæœ¬åŸåˆ™</text>
            </view>
            <text class="section-arrow">â†’</text>
          </view>
          
          <!-- å†å²æ–‡åŒ– -->
          <view class="section-card" @tap="navigateTo('/pages/learn/history')">
            <view class="section-icon">
              <text class="icon">ğŸ“œ</text>
            </view>
            <view class="section-info">
              <text class="section-title">å¡”ç½—å†å²æ–‡åŒ–</text>
              <text class="section-desc">æ¢ç´¢å¡”ç½—ç‰Œä»15ä¸–çºªåˆ°ç°ä»£çš„æ¼”å˜å†ç¨‹å’Œæ–‡åŒ–æ„ä¹‰</text>
            </view>
            <text class="section-arrow">â†’</text>
          </view>
          
          <!-- ç‰Œé˜µä»‹ç» -->
          <view class="section-card" @tap="navigateTo('/pages/learn/spreads')">
            <view class="section-icon">
              <text class="icon">ğŸƒ</text>
            </view>
            <view class="section-info">
              <text class="section-title">å¡”ç½—ç‰Œé˜µä»‹ç»</text>
              <text class="section-desc">æŒæ¡ä¸åŒåœºæ™¯ä¸‹çš„ç»å…¸ç‰Œé˜µå¸ƒå±€ï¼Œä»å•å¡åˆ°å¤æ‚ç‰Œé˜µå…¨è¦†ç›–</text>
            </view>
            <text class="section-arrow">â†’</text>
          </view>
          
          <!-- ä¸“é¢˜æ–‡ç«  -->
          <view class="section-card" @tap="navigateTo('/pages/learn/articles')">
            <view class="section-icon">
              <text class="icon">ğŸ“š</text>
            </view>
            <view class="section-info">
              <text class="section-title">å¡”ç½—ä¸“é¢˜æ–‡ç« </text>
              <text class="section-desc">æ·±å…¥æ¢è®¨å¡”ç½—ä¸å¿ƒç†å­¦ã€çµæ€§ã€ç”Ÿæ´»å“²å­¦ç­‰é¢†åŸŸçš„ç»“åˆ</text>
            </view>
            <text class="section-arrow">â†’</text>
          </view>
        </view>
        
        <!-- æ¯æ—¥å°æç¤º -->
        <view class="daily-tip">
          <view class="tip-header">
            <text class="tip-title">æ¯æ—¥å°æç¤º</text>
            <text class="tip-date">{{formattedDate}}</text>
          </view>
          <text class="tip-content">{{dailyTip}}</text>
        </view>
      </view>
    </view>
  </view>
</template>

<script>
export default {
  name: 'LearnIndex',
  data() {
    return {
      dailyTips: [
        'å¡”ç½—ç‰Œé˜…è¯»ä¸­ï¼Œç‰Œé¢æœå‘ï¼ˆæ­£ä½/é€†ä½ï¼‰ä¼šæ”¹å˜å¡ç‰Œçš„è§£è¯»ï¼Œé€šå¸¸é€†ä½è¡¨ç¤ºèƒ½é‡å—é˜»æˆ–å†…åœ¨åŒ–ã€‚',
        'è§£è¯»å¡”ç½—æ—¶ï¼Œè¦æ³¨æ„å¡ç‰Œä¹‹é—´çš„å…³ç³»å’Œæ•…äº‹æµï¼Œè€Œä¸ä»…æ˜¯å•ç‹¬çœ‹æ¯å¼ ç‰Œçš„å«ä¹‰ã€‚',
        'åœ¨è¿›è¡Œå¡”ç½—ç‰Œé˜…è¯»å‰ï¼Œç¡®ä¿ä½ çš„å¿ƒæ€å¹³å’Œï¼Œç¯å¢ƒå®‰é™ï¼Œè¿™æ ·æ›´æœ‰åŠ©äºç›´è§‰çš„å‘æŒ¥ã€‚',
        'å¡”ç½—ç‰Œçš„å°é˜¿å¡çº³ï¼ˆ56å¼ ï¼‰ä»£è¡¨æ—¥å¸¸ç”Ÿæ´»ä¸­çš„å…·ä½“äº‹ä»¶å’Œæƒ…å†µã€‚',
        'å¤§é˜¿å¡çº³ï¼ˆ22å¼ ï¼‰ä»£è¡¨äººç”Ÿæ—…ç¨‹ä¸­çš„é‡å¤§ä¸»é¢˜å’Œè½¬æŠ˜ç‚¹ã€‚',
        'å½“ä½ åœ¨ç‰Œé˜µä¸­çœ‹åˆ°å¤šå¼ å®«å»·ç‰Œæ—¶ï¼Œå¯èƒ½æš—ç¤ºç€ä½ æ­£åœ¨å¤„ç†çš„æƒ…å†µæ¶‰åŠå¤šäººå…³ç³»æˆ–å¤æ‚çš„äººé™…äº’åŠ¨ã€‚',
        'å¡”ç½—ç‰Œä¸­çš„å‰‘ç‰Œç»„é€šå¸¸ä¸æ€æƒ³ã€æ²Ÿé€šã€å†²çªå’Œæ™ºæ…§ç›¸å…³ã€‚',
        'æ˜Ÿå¸ï¼ˆæˆ–é’±å¸ï¼‰ç‰Œç»„ä¸ç‰©è´¨ä¸–ç•Œã€è´¢å¯Œå’Œèº«ä½“å¥åº·æœ‰å…³ã€‚',
        'åœ£æ¯ç‰Œç»„è±¡å¾æƒ…æ„Ÿã€å…³ç³»å’Œç²¾ç¥å±‚é¢çš„ä½“éªŒã€‚',
        'æƒæ–ç‰Œç»„ä»£è¡¨æ¿€æƒ…ã€åˆ›é€ åŠ›ã€è¡ŒåŠ¨å’Œæˆé•¿ã€‚'
      ],
      currentTipIndex: 0
    }
  },
  computed: {
    dailyTip() {
      // æ ¹æ®ä»Šå¤©çš„æ—¥æœŸé€‰æ‹©ä¸€ä¸ªå›ºå®šçš„æç¤ºï¼Œç¡®ä¿åŒä¸€å¤©çœ‹åˆ°ç›¸åŒæç¤º
      const today = new Date();
      const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24));
      const index = dayOfYear % this.dailyTips.length;
      return this.dailyTips[index];
    },
    formattedDate() {
      const today = new Date();
      return today.getFullYear() + 'å¹´' + (today.getMonth() + 1) + 'æœˆ' + today.getDate() + 'æ—¥';
    }
  },
  methods: {
    navigateTo(url) {
      uni.navigateTo({
        url: url
      });
    }
  }
}
</script>

<style lang="scss">
@import '@/styles/global.scss';

.learn-index {
  min-height: 100vh;
  padding: 40rpx 30rpx;
  box-sizing: border-box;
  position: relative;
}

.container {
  position: relative;
  z-index: 1;
}

.header {
  margin-bottom: 40rpx;
  text-align: center;
  
  .title {
    font-size: 40rpx;
    font-weight: 600;
    color: $color-text;
    margin-bottom: 10rpx;
    display: block;
  }
  
  .subtitle {
    font-size: 28rpx;
    color: $color-text-secondary;
  }
}

.sections {
  .section-card {
    background-color: rgba($color-bg-card, 0.7);
    border-radius: 16rpx;
    margin-bottom: 30rpx;
    padding: 24rpx;
    display: flex;
    align-items: center;
    box-shadow: $soft-shadow;
    
    .section-icon {
      width: 80rpx;
      height: 80rpx;
      border-radius: 40rpx;
      background-color: rgba($color-primary, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 20rpx;
      
      .icon {
        font-size: 40rpx;
      }
    }
    
    .section-info {
      flex: 1;
      
      .section-title {
        font-size: 32rpx;
        font-weight: 600;
        color: $color-text;
        margin-bottom: 8rpx;
        display: block;
      }
      
      .section-desc {
        font-size: 24rpx;
        color: $color-text-secondary;
        line-height: 1.4;
      }
    }
    
    .section-arrow {
      font-size: 36rpx;
      color: $color-text-secondary;
      margin-left: 20rpx;
    }
  }
}

.daily-tip {
  background-color: rgba($color-accent, 0.1);
  border-radius: 16rpx;
  padding: 24rpx;
  margin-bottom: 30rpx;
  
  .tip-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16rpx;
    
    .tip-title {
      font-size: 28rpx;
      font-weight: 600;
      color: $color-accent;
    }
    
    .tip-date {
      font-size: 24rpx;
      color: $color-text-secondary;
    }
  }
  
  .tip-content {
    font-size: 26rpx;
    color: $color-text;
    line-height: 1.6;
    font-style: italic;
  }
}

/* ç¥ç§˜èƒŒæ™¯å…ƒç´ æ ·å¼ */
.mystic-circle {
  position: absolute;
  border-radius: 50%;
  border: 1px solid rgba($color-primary, 0.3);
}

.mystic-star {
  position: absolute;
  font-size: 40rpx;
  color: rgba($color-primary, 0.4);
}
</style> 