# 常见问题解答 (FAQ)

本文档收集了塔罗牌小程序的常见问题和解答，帮助用户和开发者快速解决问题。

## 用户常见问题

### 基础使用

#### Q: 塔罗牌小程序需要付费使用吗？
A: 基础功能是免费的，包括单卡占卜和基本解读。高级功能如详细解读报告、多卡牌阵等需要开通会员。

#### Q: 如何进行塔罗牌占卜？
A: 在首页选择占卜类型，输入你的问题，然后按照提示进行抽牌操作，系统会自动为你生成解读结果。

#### Q: 塔罗牌解读结果准确吗？
A: 塔罗牌解读是一种心理投射工具，其准确性取决于解读者的经验和被解读者的感受。我们的解读系统基于传统塔罗牌理论和现代心理学原理，提供参考性解读，最终解释权在使用者。

#### Q: 我忘记密码了怎么办？
A: 点击登录页面的"忘记密码"链接，按照提示使用注册时的邮箱或手机号进行身份验证，然后重置密码。

#### Q: 如何查看我的历史占卜记录？
A: 在个人中心页面，点击"历史记录"选项，可以查看所有历史占卜结果。

### 会员相关

#### Q: 会员有哪些权益？
A: 会员可以享受：
- 高级牌阵占卜（凯尔特十字、马蹄型等）
- 详细专业解读报告
- 无限历史记录保存
- 收藏功能
- 无广告体验

#### Q: 如何开通会员？
A: 在个人中心页面，点击"开通会员"，选择适合你的会员套餐，按照提示完成支付即可。

#### Q: 会员到期后，我的历史记录会丢失吗？
A: 不会丢失，但会受到基础版的数量限制，只能查看最近10次占卜记录。建议在会员到期前导出重要记录。

### 技术问题

#### Q: 小程序打开很慢怎么办？
A: 可能是网络问题，建议：
1. 检查网络连接
2. 关闭微信后重新打开
3. 清除微信缓存
4. 更新到最新版本的微信

#### Q: 为什么有时候抽牌没反应？
A: 可能原因：
1. 网络连接不稳定
2. 微信小程序缓存问题
3. 服务器临时压力大

建议刷新页面或稍后再试。如果问题持续存在，可以联系客服。

#### Q: 占卜结果可以分享到朋友圈吗？
A: 可以。在占卜结果页面，点击右上角的"分享"按钮，选择"分享到朋友圈"，系统会自动生成精美的分享图片。

## 开发者常见问题

### 环境配置

#### Q: 开发环境需要哪些配置？
A: 基本需求：
- Node.js v14.0.0或更高版本
- npm v6.0.0或更高版本
- 微信开发者工具最新版
- HBuilderX或VS Code

#### Q: 如何配置开发环境变量？
A: 不同环境的配置在项目根目录的`.env.xx`文件中：
- 开发环境：`.env.dev`
- 测试环境：`.env.test`
- 生产环境：`.env.prod`

详细配置说明请参考[部署文档](./deployment.md)。

#### Q: 微信云开发环境如何配置？
A: 参考[微信云开发文档](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html)，主要步骤：
1. 创建云开发环境
2. 在`app.js`中初始化云环境
3. 创建必要的数据库集合
4. 设置安全规则

详细配置请参考[架构文档](./architecture.md)中的云开发部分。

### 开发问题

#### Q: uni-app和微信小程序开发有什么区别？
A: uni-app是跨平台框架，微信小程序是其中一个平台。主要区别：
- uni-app使用Vue.js语法，微信小程序使用自定义语法
- uni-app可编译到多平台，微信小程序只能在微信环境运行
- uni-app有更丰富的组件和API

在我们的项目中，使用uni-app开发，但需注意微信小程序的特殊限制。

#### Q: 如何处理微信小程序的登录授权？
A: 微信小程序登录流程：
1. 调用`uni.login()`获取临时登录凭证code
2. 将code发送到后端服务器
3. 后端通过code向微信服务器换取openid和session_key
4. 生成自定义登录态返回给小程序
5. 小程序保存登录态用于后续请求

详细代码示例请参考[开发指南](./development-guide.md)中的用户认证部分。

#### Q: 如何优化小程序包体积？
A: 主要优化方法：
- 使用分包加载
- 压缩图片资源
- 移除未使用的代码和依赖
- 使用云函数代替本地复杂逻辑
- 使用云存储存放大型资源

详细优化策略请参考[架构文档](./architecture.md)中的性能优化部分。

#### Q: 项目使用TypeScript有什么注意事项？
A: TypeScript在uni-app项目中的注意事项：
- 正确配置tsconfig.json
- 使用@dcloudio/types提供的类型定义
- 页面组件使用Vue Class Component风格
- 注意微信小程序API的类型定义
- 第三方库可能需要额外的类型定义文件

#### Q: 如何实现多环境配置？
A: 使用条件编译实现多环境配置：
```js
// 开发环境
// #ifdef NODE_ENV=development
const API_URL = 'https://dev-api.tarot-app.com';
// #endif

// 生产环境
// #ifdef NODE_ENV=production
const API_URL = 'https://api.tarot-app.com';
// #endif
```

或使用环境变量：
```js
const API_URL = process.env.API_BASE_URL;
```

### 部署问题

#### Q: 微信小程序审核被拒常见原因？
A: 常见审核被拒原因：
1. 小程序类目与实际功能不符
2. 缺少必要的服务声明或隐私政策
3. 含有敏感内容或违规信息
4. UI设计不符合微信规范
5. 功能不完善或存在严重bug

审核前请参考[微信小程序审核规范](https://developers.weixin.qq.com/miniprogram/product/reject.html)自查。

#### Q: 如何解决小程序上线后出现的bug？
A: 线上bug处理流程：
1. 收集错误日志和用户反馈
2. 在开发环境复现问题
3. 修复bug并在测试环境验证
4. 提交新版本审核
5. 审核通过后发布更新

紧急情况可联系微信团队加速审核。

#### Q: 如何监控小程序的性能和错误？
A: 可使用以下方法：
1. 微信性能分析工具
2. 自定义错误上报机制
3. 云开发日志分析
4. 第三方监控服务(如ARMS)

详细监控方案请参考[部署文档](./deployment.md)中的监控部分。

## 联系与支持

如果以上FAQ没有解答你的问题，可以通过以下方式获取帮助：

- **用户反馈**：在小程序内的"个人中心-意见反馈"提交问题
- **开发者交流群**：扫描[二维码](../assets/dev-group-qr.png)加入开发者群
- **技术支持邮箱**：support@tarot-app.com
- **项目负责人**：张三 (zhangsan@example.com) 